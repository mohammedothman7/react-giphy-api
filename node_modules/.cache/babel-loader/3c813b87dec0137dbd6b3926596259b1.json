{"ast":null,"code":"var _jsxFileName = \"/Users/Moe/Desktop/react-giphy/src/components/SearchField.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport GifCard from './GifCard';\n\nclass SearchField extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getGiphy = () => {\n      /* Calls the giphy API and sends the correct URL \n      based on which button the user interacts with*/\n      const API_KEY = process.env.REACT_APP_GIPHY_API_KEY; // API key\n\n      let regSearch; // URL to send to API\n      // Filtering through state.filterBy to send correct URL\n\n      if (this.state.filterBy === 'search' && this.state.search !== '') {\n        regSearch = `http://api.giphy.com/v1/gifs/search?q=${this.state.search}&api_key=${API_KEY}`;\n      } else if (this.state.filterBy === 'trending') {\n        regSearch = `http://api.giphy.com/v1/gifs/trending?api_key=${API_KEY}`;\n      } else {\n        regSearch = `http://api.giphy.com/v1/gifs/random?api_key=${API_KEY}`;\n      }\n\n      axios // Sending request to the API\n      .get(regSearch).then(response => {\n        let data = response.data;\n        let newGif, currentGif;\n        currentGif = []; // Array to hold the response from API\n\n        if (this.state.filterBy === 'random') {\n          /* The random URL returns one object while the search and \n          trending return an array of objects, so we push that one object \n          into an array to keep the response as an array through \n          the whole program*/\n          currentGif.push(data.data);\n        } else {\n          // Pushing each object to currentGif array\n          data.data.map(e => {\n            return currentGif.push(e);\n          });\n        }\n        /* Retreiving title and imageURL from each object \n        and pushing into a newGif array */\n\n\n        newGif = currentGif.map(e => {\n          return {\n            title: e.title,\n            imageUrl: e.images.original.url\n          };\n        });\n        this.setState({\n          result: newGif\n        });\n      }).catch(err => {\n        alert('Please enter a word or sentence in the search bar');\n      });\n    };\n\n    this.setSearch = e => {\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.setFilterBy = e => {\n      this.setState({\n        filterBy: e.target.value\n      }, this.getGiphy);\n    };\n\n    this.state = {\n      search: '',\n      result: [],\n      filterBy: '' //regular, trending, random\n\n    };\n  } // Display trending when page is first loaded\n\n\n  componentDidMount() {\n    this.setState({\n      filterBy: 'trending'\n    }, this.getGiphy);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"textarea\",\n      onChange: this.setSearch,\n      value: this.state.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.setFilterBy,\n      value: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Regular Search\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.setFilterBy,\n      value: \"trending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, \"Trending Search\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.setFilterBy,\n      value: \"random\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, \"Random Search\")), /*#__PURE__*/React.createElement(GifCard, {\n      search: this.state.search,\n      result: this.state.result,\n      filterBy: this.state.filterBy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default SearchField;","map":{"version":3,"sources":["/Users/Moe/Desktop/react-giphy/src/components/SearchField.js"],"names":["React","Component","axios","GifCard","SearchField","constructor","props","getGiphy","API_KEY","process","env","REACT_APP_GIPHY_API_KEY","regSearch","state","filterBy","search","get","then","response","data","newGif","currentGif","push","map","e","title","imageUrl","images","original","url","setState","result","catch","err","alert","setSearch","target","value","setFilterBy","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport GifCard from './GifCard';\n\nclass SearchField extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      result: [],\n      filterBy: '', //regular, trending, random\n    };\n  }\n\n  // Display trending when page is first loaded\n  componentDidMount() {\n    this.setState({ filterBy: 'trending' }, this.getGiphy);\n  }\n\n  getGiphy = () => {\n    /* Calls the giphy API and sends the correct URL \n    based on which button the user interacts with*/\n    const API_KEY = process.env.REACT_APP_GIPHY_API_KEY; // API key\n    let regSearch; // URL to send to API\n\n    // Filtering through state.filterBy to send correct URL\n    if (this.state.filterBy === 'search' && this.state.search !== '') {\n      regSearch = `http://api.giphy.com/v1/gifs/search?q=${this.state.search}&api_key=${API_KEY}`;\n    } else if (this.state.filterBy === 'trending') {\n      regSearch = `http://api.giphy.com/v1/gifs/trending?api_key=${API_KEY}`;\n    } else {\n      regSearch = `http://api.giphy.com/v1/gifs/random?api_key=${API_KEY}`;\n    }\n\n    axios // Sending request to the API\n      .get(regSearch)\n      .then((response) => {\n        let data = response.data;\n        let newGif, currentGif;\n        currentGif = []; // Array to hold the response from API\n        if (this.state.filterBy === 'random') {\n          /* The random URL returns one object while the search and \n          trending return an array of objects, so we push that one object \n          into an array to keep the response as an array through \n          the whole program*/\n          currentGif.push(data.data);\n        } else {\n          // Pushing each object to currentGif array\n          data.data.map((e) => {\n            return currentGif.push(e);\n          });\n        }\n\n        /* Retreiving title and imageURL from each object \n        and pushing into a newGif array */\n        newGif = currentGif.map((e) => {\n          return {\n            title: e.title,\n            imageUrl: e.images.original.url,\n          };\n        });\n\n        this.setState({ result: newGif });\n      })\n      .catch((err) => {\n        alert('Please enter a word or sentence in the search bar');\n      });\n  };\n\n  // Sets the search state to text value\n  setSearch = (e) => {\n    this.setState({ search: e.target.value });\n  };\n\n  // Sets the filterBy state to target value based on which button is clicked\n  setFilterBy = (e) => {\n    this.setState({ filterBy: e.target.value }, this.getGiphy);\n  };\n\n  render() {\n    return (\n      <>\n        <div>\n          <input\n            type='textarea'\n            onChange={this.setSearch}\n            value={this.state.search}\n          />\n          <button onClick={this.setFilterBy} value='search'>\n            Regular Search\n          </button>\n          <button onClick={this.setFilterBy} value='trending'>\n            Trending Search\n          </button>\n          <button onClick={this.setFilterBy} value='random'>\n            Random Search\n          </button>\n        </div>\n        <GifCard\n          search={this.state.search}\n          result={this.state.result}\n          filterBy={this.state.filterBy}\n        />\n      </>\n    );\n  }\n}\n\nexport default SearchField;\n"]},"metadata":{},"sourceType":"module"}